{% extends 'base.html' %}

{% block title %}
ReleCloud - {{ cruise }}
{% endblock %}

{% block content %}
<h1>{{ cruise }}</h1>

{% if cruise.average_rating %}
    <p>Valoración media: ⭐ {{ cruise.average_rating }} / 5</p>
{% else %}
    <p>Este crucero aún no tiene valoraciones.</p>
{% endif %}

<p>{{ cruise.description }}</p>

<p>You can explore {{ cruise }} on the following destinations:</p>
<ul class="list-group">
    {% for destination in cruise.destinations.all %}
        <a class="list-group-item list-group-item-action" href="{% url 'destination_detail' destination.id %}">
            {{ destination }}
        </a>
    {% endfor %}
</ul>

<h3>Reviews</h3>

{% if user.is_authenticated %}
    <a href="{% url 'add_review_cruise' cruise_id=cruise.id %}"
       class="btn btn-primary">
        Añadir review
    </a>
{% else %}
    <p><i>Inicia sesión para poder valorar este crucero.</i></p>
{% endif %}

<hr>

{% for review in cruise.review_set.all %}
    <p><strong>{{ review.user.username }}</strong> — ⭐ {{ review.rating }}</p>
    <p>{{ review.comment }}</p>
    <hr>
{% empty %}
    <p>No hay reviews todavía.</p>
{% endfor %}

{% endblock content %}
