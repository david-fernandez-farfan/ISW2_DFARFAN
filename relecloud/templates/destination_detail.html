{% extends 'base.html' %}

{% block title %}
ReleCloud - {{ destination }}
{% endblock %}

{% block content %}
<h1>{{ destination }}</h1>

{# PT2 IMAGEN DEL DESTINO #}
{% if destination.image %}
    <img src="{{ destination.image.url }}" 
         alt="{{ destination }}" 
         class="img-fluid mb-3" 
         style="max-width: 400px; border-radius: 10px;">
{% else %}
    <p><em>Este destino todavía no tiene imagen.</em></p>
{% endif %}

<p>{{ destination.description }}</p>

<p>You can explore {{ destination }} on the following cruises:</p>
<ul class="list-group">
    {% for cruise in destination.cruises.all %}
    <a class="list-group-item list-group-item-action" href="{% url 'cruise_detail' cruise.id %}">
        {{ cruise }}
    </a>
    {% endfor %}
</ul>

<h3>Reviews</h3>

<!-- Botón para crear review -->
<a href="{% url 'add_review_destination' destination_id=destination.id %}"
   class="btn btn-primary">
    Añadir review
</a>

<hr>

<!-- Mostrar reviews -->
{% for review in destination.review_set.all %}
    <p><strong>{{ review.user.username }}</strong> — ⭐ {{ review.rating }}</p>
    <p>{{ review.comment }}</p>
    <hr>
{% empty %}
    <p>No hay reviews todavía.</p>
{% endfor %}

{% endblock content %}
